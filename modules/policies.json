Block Azure OpenAI Deployments:
 
{
 "mode": "All",
 "policyRule": {
   "if": {
     "field": "type",
     "equals": "Microsoft.CognitiveServices/accounts/deployments"
   },
   "then": {
     "effect": "deny"
   }
 },
 "parameters": {}
}
 
Block Machine Learning SKU:
 
{
 "mode": "All",
 "policyRule": {
   "if": {
     "allOf": [
       {
         "field": "type",
         "equals": "Microsoft.MachineLearningServices/workspaces/computes"
       },
       {
         "field": "Microsoft.MachineLearningServices/workspaces/computes/vmSize",
         "in": "[parameters('listOfDeniedVMSizes')]"
       }
     ]
   },
   "then": {
     "effect": "deny"
   }
 },
 "parameters": {
   "listOfDeniedVMSizes": {
     "type": "Array",
     "metadata": {
       "displayName": "Denied VM Sizes",
       "description": "The list of VM sizes that are denied for use in Azure Machine Learning compute resources.",
       "strongType": "VMSKUs"
     }
   }
 }
}
 
 
Deny commitmentplan:
{
 "mode": "All",
 "policyRule": {
   "if": {
     "field": "type",
     "equals": "Microsoft.CognitiveServices/accounts/commitmentPlans"
   },
   "then": {
     "effect": "deny"
   }
 },
 "parameters": {}
}
 
Block AI Studio Hub Creation:
{
 "mode": "All",
 "policyRule": {
   "if": {
     "AllOf": [
       {
         "field": "type",
         "equals": "Microsoft.MachineLearningServices/workspaces"
       },
       {
         "field": "kind",
         "equals": "Hub"
       }
     ]
   },
   "then": {
     "effect": "Deny"
   }
 },
 "parameters": {}
}
 
 
 
[Preview]: Azure Machine Learning Model Registry Deployments are restricted except for the allowed Registry:
 
{
 "properties": {
   "displayName": "[Preview]: Azure Machine Learning Model Registry Deployments are restricted except for the allowed Registry",
   "policyType": "BuiltIn",
   "mode": "Microsoft.MachineLearningServices.v2.Data",
   "description": "Only deploy Registry Models in the allowed Registry and that are not restricted.",
   "metadata": {
     "version": "1.0.0-preview",
     "category": "Machine Learning",
     "preview": true
   },
   "version": "1.0.0-preview",
   "parameters": {
     "allowedRegistryName": {
       "type": "String",
       "metadata": {
         "displayName": "Allowed Registry Name",
         "description": "The exact registry name where models are allowed to be deployed. If not set, by default all models from all registries will be restricted."
       },
       "defaultValue": ""
     },
     "restrictedModels": {
       "type": "Array",
       "metadata": {
         "displayName": "Restricted Model AssetIds",
         "description": "The list of Model AssetIds from the allowedRegistryName to be restricted from being deployed. If not set, by default all models from the allowedRegistryName will be allowed."
       },
       "defaultValue": []
     },
     "effect": {
       "type": "String",
       "metadata": {
         "displayName": "Effect",
         "description": "'Deny' restricts deploying the registry models except for the allowedRegistryName."
       },
       "allowedValues": [
         "Deny",
         "Disabled"
       ]
     }
   },
   "policyRule": {
     "if": {
       "allOf": [
         {
           "field": "type",
           "equals": "Microsoft.MachineLearningServices.v2.Data/workspaces/deployments"
         },
         {
           "anyOf": [
             {
               "field": "Microsoft.MachineLearningServices.v2.Data/workspaces/deployments/model.assetId",
               "in": "[parameters('restrictedModels')]"
             },
             {
               "allOf": [
                 {
                   "field": "Microsoft.MachineLearningServices.v2.Data/workspaces/deployments/model.assetId",
                   "like": "azureml://registries/*"
                 },
                 {
                   "not": {
                     "field": "Microsoft.MachineLearningServices.v2.Data/workspaces/deployments/model.assetId",
                     "like": "[concat('azureml://registries/', parameters('allowedRegistryName'), '/*')]"
                   }
                 }
               ]
             }
           ]
         }
       ]
     },
     "then": {
       "effect": "[parameters('effect')]"
     }
   }
 },
 "id": "/providers/Microsoft.Authorization/policyDefinitions/19539b54-c61e-4196-9a38-67598701be90/versions/1.0.0-preview",
 "type": "Microsoft.Authorization/policyDefinitions/versions",
 "name": "1.0.0-preview"
}